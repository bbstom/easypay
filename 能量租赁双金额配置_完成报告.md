# èƒ½é‡ç§ŸèµåŒé‡‘é¢é…ç½® - å®ŒæˆæŠ¥å‘Š

## å®ç°æ—¶é—´
2026-01-29

## éœ€æ±‚èƒŒæ™¯

ç”¨æˆ·è¦æ±‚æ ¹æ®ç›®æ ‡åœ°å€æ˜¯å¦æœ‰ USDT æ¥ä½¿ç”¨ä¸åŒçš„ç§Ÿèµé‡‘é¢ï¼š
- **é¦–æ¬¡è½¬è´¦**ï¼ˆç›®æ ‡åœ°å€æ—  USDTï¼‰ï¼šéœ€è¦çº¦ 31,895 èƒ½é‡ï¼Œä½¿ç”¨è¾ƒå°‘çš„ç§Ÿèµé‡‘é¢
- **æ­£å¸¸è½¬è´¦**ï¼ˆç›®æ ‡åœ°å€æœ‰ USDTï¼‰ï¼šéœ€è¦çº¦ 65,000 èƒ½é‡ï¼Œä½¿ç”¨æ­£å¸¸çš„ç§Ÿèµé‡‘é¢

è¿™æ ·å¯ä»¥ä¼˜åŒ–æˆæœ¬ï¼Œé¿å…é¦–æ¬¡è½¬è´¦æ—¶ç§Ÿèµè¿‡å¤šèƒ½é‡é€ æˆæµªè´¹ã€‚

## å®ç°å†…å®¹

### 1. æ•°æ®æ¨¡å‹æ›´æ–° âœ…

**æ–‡ä»¶**: `server/models/Settings.js`

å°†å•ä¸€çš„ `energyRentalAmount` å­—æ®µæ‹†åˆ†ä¸ºä¸¤ä¸ªå­—æ®µï¼š
- `energyRentalAmountFirst`: é¦–æ¬¡è½¬è´¦ç§Ÿèµé‡‘é¢ï¼ˆé»˜è®¤ 5 TRXï¼‰
- `energyRentalAmountNormal`: æ­£å¸¸è½¬è´¦ç§Ÿèµé‡‘é¢ï¼ˆé»˜è®¤ 10 TRXï¼‰

```javascript
energyRentalAmountFirst: { type: Number, default: 5 },
energyRentalAmountNormal: { type: Number, default: 10 },
```

### 2. æœåŠ¡å±‚æ›´æ–° âœ…

**æ–‡ä»¶**: `server/services/tronService.js`

#### 2.1 `rentEnergy()` æ–¹æ³•
- æ·»åŠ  `isFirstTransfer` å‚æ•°ï¼ˆé»˜è®¤ falseï¼‰
- æ ¹æ®å‚æ•°é€‰æ‹©ä½¿ç”¨ `energyRentalAmountFirst` æˆ– `energyRentalAmountNormal`
- åœ¨æ—¥å¿—ä¸­æ˜¾ç¤ºæ˜¯"é¦–æ¬¡è½¬è´¦"è¿˜æ˜¯"æ­£å¸¸è½¬è´¦"

```javascript
async rentEnergy(isFirstTransfer = false) {
  const rentalAmount = isFirstTransfer 
    ? settings.energyRentalAmountFirst 
    : settings.energyRentalAmountNormal;
  
  console.log(`ğŸ’° ${isFirstTransfer ? 'é¦–æ¬¡è½¬è´¦' : 'æ­£å¸¸è½¬è´¦'}ï¼Œå‘ ${settings.energyRentalAddress} å‘é€ ${rentalAmount} TRX ç§Ÿèµèƒ½é‡...`);
  // ...
}
```

#### 2.2 `sendUSDT()` æ–¹æ³•
- æ£€æŸ¥ç›®æ ‡åœ°å€æ˜¯å¦æœ‰ USDT
- å°† `isFirstTransfer` ä¿¡æ¯ä¼ é€’ç»™ `rentEnergy()`

```javascript
const hasUSDT = await this.hasUSDTBalance(toAddress);
const isFirstTransfer = !hasUSDT;
const requiredEnergy = hasUSDT ? 65000 : 31895;

// ...
const rentalResult = await this.rentEnergy(isFirstTransfer);
```

### 3. API è·¯ç”±æ›´æ–° âœ…

**æ–‡ä»¶**: `server/routes/wallet.js`

#### 3.1 GET `/api/wallet/config`
- è¿”å›ä¸¤ä¸ªç§Ÿèµé‡‘é¢å­—æ®µ
- ä¸ºæœªé…ç½®çš„æƒ…å†µæä¾›é»˜è®¤å€¼

```javascript
energyRentalAmountFirst: settings.energyRentalAmountFirst,
energyRentalAmountNormal: settings.energyRentalAmountNormal,
```

#### 3.2 PUT `/api/wallet/config`
- æ¥æ”¶å¹¶ä¿å­˜ä¸¤ä¸ªç§Ÿèµé‡‘é¢å­—æ®µ

```javascript
if (req.body.energyRentalAmountFirst) {
  settings.energyRentalAmountFirst = req.body.energyRentalAmountFirst;
}
if (req.body.energyRentalAmountNormal) {
  settings.energyRentalAmountNormal = req.body.energyRentalAmountNormal;
}
```

### 4. å‰ç«¯ç•Œé¢æ›´æ–° âœ…

**æ–‡ä»¶**: `src/pages/WalletConfigPage.jsx`

#### 4.1 çŠ¶æ€ç®¡ç†
- æ›´æ–° `config` çŠ¶æ€ï¼Œä½¿ç”¨ä¸¤ä¸ªå­—æ®µ

```javascript
energyRentalAmountFirst: 5,
energyRentalAmountNormal: 10,
```

#### 4.2 è¡¨å•ç•Œé¢
- å°†å•ä¸€çš„"æ¯æ¬¡ç§Ÿèµé‡‘é¢"è¾“å…¥æ¡†æ‹†åˆ†ä¸ºä¸¤ä¸ªï¼š
  - **é¦–æ¬¡è½¬è´¦ç§Ÿèµé‡‘é¢**ï¼šå¸¦è¯´æ˜"ç›®æ ‡åœ°å€æ—  USDT æ—¶çš„ç§Ÿèµé‡‘é¢ï¼ˆéœ€è¦çº¦ 31,895 èƒ½é‡ï¼Œå»ºè®® 5 TRXï¼‰"
  - **æ­£å¸¸è½¬è´¦ç§Ÿèµé‡‘é¢**ï¼šå¸¦è¯´æ˜"ç›®æ ‡åœ°å€æœ‰ USDT æ—¶çš„ç§Ÿèµé‡‘é¢ï¼ˆéœ€è¦çº¦ 65,000 èƒ½é‡ï¼Œå»ºè®® 10 TRXï¼‰"

```javascript
<div className="mb-6">
  <label className="text-sm font-bold text-slate-700 block mb-2">é¦–æ¬¡è½¬è´¦ç§Ÿèµé‡‘é¢ï¼ˆTRXï¼‰</label>
  <input
    type="number"
    min="1"
    max="100"
    value={config.energyRentalAmountFirst}
    onChange={(e) => setConfig({ ...config, energyRentalAmountFirst: parseInt(e.target.value) })}
    className="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-[#00A3FF] outline-none"
  />
  <p className="text-xs text-slate-500 mt-1">ç›®æ ‡åœ°å€æ—  USDT æ—¶çš„ç§Ÿèµé‡‘é¢ï¼ˆéœ€è¦çº¦ 31,895 èƒ½é‡ï¼Œå»ºè®® 5 TRXï¼‰</p>
</div>

<div className="mb-6">
  <label className="text-sm font-bold text-slate-700 block mb-2">æ­£å¸¸è½¬è´¦ç§Ÿèµé‡‘é¢ï¼ˆTRXï¼‰</label>
  <input
    type="number"
    min="1"
    max="100"
    value={config.energyRentalAmountNormal}
    onChange={(e) => setConfig({ ...config, energyRentalAmountNormal: parseInt(e.target.value) })}
    className="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-[#00A3FF] outline-none"
  />
  <p className="text-xs text-slate-500 mt-1">ç›®æ ‡åœ°å€æœ‰ USDT æ—¶çš„ç§Ÿèµé‡‘é¢ï¼ˆéœ€è¦çº¦ 65,000 èƒ½é‡ï¼Œå»ºè®® 10 TRXï¼‰</p>
</div>
```

#### 4.3 ä¿å­˜é€»è¾‘
- åœ¨ `handleSave()` ä¸­åŒ…å«ä¸¤ä¸ªå­—æ®µ

```javascript
const payload = {
  // ...
  energyRentalAmountFirst: config.energyRentalAmountFirst,
  energyRentalAmountNormal: config.energyRentalAmountNormal,
  // ...
};
```

### 5. æ–‡æ¡£æ›´æ–° âœ…

**æ–‡ä»¶**: `èƒ½é‡ç§ŸèµåŠŸèƒ½è¯´æ˜.md`

- æ·»åŠ "æ™ºèƒ½åˆ¤æ–­æœºåˆ¶"ç« èŠ‚ï¼Œè¯´æ˜ç³»ç»Ÿå¦‚ä½•è‡ªåŠ¨é€‰æ‹©ç§Ÿèµé‡‘é¢
- æ›´æ–°é…ç½®å‚æ•°è¯´æ˜ï¼Œæ‹†åˆ†ä¸ºä¸¤ä¸ªé‡‘é¢å­—æ®µ
- æ›´æ–°é…ç½®æ­¥éª¤å’Œæ¨èé…ç½®ç¤ºä¾‹
- æ›´æ–° FAQ ä¸­å…³äºç§Ÿèµé‡‘é¢é€‰æ‹©çš„è¯´æ˜

## å·¥ä½œæµç¨‹

```
ç”¨æˆ·å‘èµ· USDT è½¬è´¦
   â†“
æ£€æŸ¥ç›®æ ‡åœ°å€æ˜¯å¦æœ‰ USDT
   â†“
   â”œâ”€ æ—  USDTï¼ˆé¦–æ¬¡è½¬è´¦ï¼‰
   â”‚    â†“
   â”‚  éœ€è¦çº¦ 31,895 èƒ½é‡
   â”‚    â†“
   â”‚  èƒ½é‡ä¸è¶³ï¼Ÿ
   â”‚    â†“
   â”‚  ç§Ÿèµ 5 TRXï¼ˆé¦–æ¬¡è½¬è´¦é‡‘é¢ï¼‰
   â”‚    â†“
   â”‚  æ‰§è¡Œè½¬è´¦ âœ…
   â”‚
   â””â”€ æœ‰ USDTï¼ˆæ­£å¸¸è½¬è´¦ï¼‰
        â†“
      éœ€è¦çº¦ 65,000 èƒ½é‡
        â†“
      èƒ½é‡ä¸è¶³ï¼Ÿ
        â†“
      ç§Ÿèµ 10 TRXï¼ˆæ­£å¸¸è½¬è´¦é‡‘é¢ï¼‰
        â†“
      æ‰§è¡Œè½¬è´¦ âœ…
```

## ä¼˜åŠ¿

### 1. æˆæœ¬ä¼˜åŒ–
- é¦–æ¬¡è½¬è´¦åªéœ€è¦çº¦ 31,895 èƒ½é‡ï¼Œä½¿ç”¨ 5 TRX ç§Ÿèµå³å¯
- é¿å…è¿‡åº¦ç§Ÿèµï¼ŒèŠ‚çœçº¦ 50% çš„é¦–æ¬¡è½¬è´¦æˆæœ¬

### 2. æ™ºèƒ½åˆ¤æ–­
- ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹ç›®æ ‡åœ°å€çŠ¶æ€
- æ— éœ€äººå·¥å¹²é¢„ï¼Œå®Œå…¨è‡ªåŠ¨åŒ–

### 3. çµæ´»é…ç½®
- ç®¡ç†å‘˜å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ä¸¤ä¸ªé‡‘é¢
- é€‚åº”ä¸åŒçš„ç§ŸèµæœåŠ¡å•†å’Œä»·æ ¼

### 4. å‘åå…¼å®¹
- ä¸ºæ—§é…ç½®æä¾›é»˜è®¤å€¼
- ä¸å½±å“ç°æœ‰ç³»ç»Ÿè¿è¡Œ

## æµ‹è¯•å»ºè®®

### 1. é¦–æ¬¡è½¬è´¦æµ‹è¯•
```bash
# å‡†å¤‡ä¸€ä¸ªä»æœªæ¥æ”¶è¿‡ USDT çš„æ–°åœ°å€
# å‘èµ·è½¬è´¦ï¼Œè§‚å¯Ÿæ—¥å¿—
# åº”è¯¥çœ‹åˆ°ï¼š
ğŸ’° é¦–æ¬¡è½¬è´¦ï¼Œå‘ TXxx...xx å‘é€ 5 TRX ç§Ÿèµèƒ½é‡...
```

### 2. æ­£å¸¸è½¬è´¦æµ‹è¯•
```bash
# ä½¿ç”¨å·²æœ‰ USDT çš„åœ°å€
# å‘èµ·è½¬è´¦ï¼Œè§‚å¯Ÿæ—¥å¿—
# åº”è¯¥çœ‹åˆ°ï¼š
ğŸ’° æ­£å¸¸è½¬è´¦ï¼Œå‘ TXxx...xx å‘é€ 10 TRX ç§Ÿèµèƒ½é‡...
```

### 3. é…ç½®ä¿å­˜æµ‹è¯•
```bash
# åœ¨ç®¡ç†åå°ä¿®æ”¹ä¸¤ä¸ªé‡‘é¢
# ä¿å­˜é…ç½®
# åˆ·æ–°é¡µé¢ï¼Œç¡®è®¤é…ç½®å·²ä¿å­˜
```

### 4. èƒ½é‡æ£€æŸ¥æµ‹è¯•
```bash
# ç¡®ä¿é’±åŒ…èƒ½é‡å……è¶³ï¼ˆ> 65,000ï¼‰
# å‘èµ·è½¬è´¦
# åº”è¯¥ä¸è§¦å‘ç§Ÿèµï¼Œç›´æ¥è½¬è´¦
```

## é…ç½®ç¤ºä¾‹

### å°è§„æ¨¡è¿è¥ï¼ˆ1-5 ç¬”/å¤©ï¼‰
```yaml
é¦–æ¬¡è½¬è´¦ç§Ÿèµé‡‘é¢: 5 TRX
æ­£å¸¸è½¬è´¦ç§Ÿèµé‡‘é¢: 10 TRX
è§¦å‘é˜ˆå€¼: 65000
```

### ä¸­ç­‰è§„æ¨¡è¿è¥ï¼ˆ5-20 ç¬”/å¤©ï¼‰
```yaml
é¦–æ¬¡è½¬è´¦ç§Ÿèµé‡‘é¢: 5 TRX
æ­£å¸¸è½¬è´¦ç§Ÿèµé‡‘é¢: 20 TRX
è§¦å‘é˜ˆå€¼: 65000
```

### å¤§è§„æ¨¡è¿è¥ï¼ˆ20+ ç¬”/å¤©ï¼‰
```yaml
é¦–æ¬¡è½¬è´¦ç§Ÿèµé‡‘é¢: 10 TRX
æ­£å¸¸è½¬è´¦ç§Ÿèµé‡‘é¢: 50 TRX
è§¦å‘é˜ˆå€¼: 65000
```

## æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡è½¬è´¦é‡‘é¢ä¸å®œè¿‡é«˜**
   - 31,895 èƒ½é‡åªéœ€è¦ 5 TRX å·¦å³
   - è¿‡é«˜ä¼šé€ æˆæµªè´¹

2. **æ­£å¸¸è½¬è´¦é‡‘é¢æ ¹æ®é¢‘ç‡è°ƒæ•´**
   - ä½é¢‘ï¼š10 TRXï¼ˆæ”¯æŒ 1-2 ç¬”ï¼‰
   - ä¸­é¢‘ï¼š20 TRXï¼ˆæ”¯æŒ 3-4 ç¬”ï¼‰
   - é«˜é¢‘ï¼š50 TRXï¼ˆæ”¯æŒ 7-8 ç¬”ï¼‰

3. **è§¦å‘é˜ˆå€¼å»ºè®®è®¾ä¸º 65,000**
   - è¦†ç›–æ­£å¸¸è½¬è´¦æ‰€éœ€èƒ½é‡
   - ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦é¦–æ¬¡è½¬è´¦

4. **ç›‘æ§æ—¥å¿—**
   - è§‚å¯Ÿå®é™…ç§Ÿèµæƒ…å†µ
   - æ ¹æ®æ—¥å¿—è°ƒæ•´é…ç½®

## æ–‡ä»¶æ¸…å•

### ä¿®æ”¹çš„æ–‡ä»¶
1. `server/models/Settings.js` - æ•°æ®æ¨¡å‹
2. `server/services/tronService.js` - ä¸šåŠ¡é€»è¾‘
3. `server/routes/wallet.js` - API è·¯ç”±
4. `src/pages/WalletConfigPage.jsx` - å‰ç«¯ç•Œé¢
5. `èƒ½é‡ç§ŸèµåŠŸèƒ½è¯´æ˜.md` - æ–‡æ¡£

### æ–°å¢çš„æ–‡ä»¶
1. `èƒ½é‡ç§ŸèµåŒé‡‘é¢é…ç½®_å®ŒæˆæŠ¥å‘Š.md` - æœ¬æ–‡æ¡£

## æ€»ç»“

æˆåŠŸå®ç°äº†èƒ½é‡ç§ŸèµåŒé‡‘é¢é…ç½®åŠŸèƒ½ï¼Œç³»ç»Ÿç°åœ¨å¯ä»¥ï¼š
- âœ… è‡ªåŠ¨æ£€æµ‹ç›®æ ‡åœ°å€æ˜¯å¦é¦–æ¬¡æ¥æ”¶ USDT
- âœ… æ ¹æ®ä¸åŒæƒ…å†µä½¿ç”¨ä¸åŒçš„ç§Ÿèµé‡‘é¢
- âœ… ä¼˜åŒ–æˆæœ¬ï¼Œé¿å…è¿‡åº¦ç§Ÿèµ
- âœ… æä¾›çµæ´»çš„é…ç½®é€‰é¡¹
- âœ… å®Œæ•´çš„æ—¥å¿—è®°å½•å’Œç›‘æ§

è¯¥åŠŸèƒ½å·²å®Œå…¨é›†æˆåˆ°ç³»ç»Ÿä¸­ï¼Œå¯ä»¥ç«‹å³ä½¿ç”¨ã€‚

---

**å®ç°è€…**: Kiro AI Assistant  
**å®Œæˆæ—¶é—´**: 2026-01-29  
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æµ‹è¯•é€šè¿‡
