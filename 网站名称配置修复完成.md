# 网站名称和 Logo 配置修复完成

## 问题

用户反馈：在后台无法配置网站主 Logo 和名称，配置了网站名称后主页面和标签页上的内容都不会改变。

## 原因分析

1. **前端硬编码**：导航栏和主页的网站名称是硬编码的 "FASTPAY"，没有从后台读取
2. **页面标题未更新**：浏览器标签页的标题没有动态更新
3. **主页描述硬编码**：主页的网站描述也是硬编码的

## 已修复的问题

### 1. 导航栏网站名称 ✅

**修改文件**：`src/App.jsx`

**修改内容**：
- 添加 `siteSettings` 状态来存储网站名称
- 从 `/api/settings/public` 接口获取网站名称
- 将硬编码的 "FASTPAY" 替换为 `{siteSettings.siteName}`

**效果**：
- 导航栏左上角的网站名称现在会显示后台配置的名称
- 默认值为 "FASTPAY"

### 2. 浏览器标签页标题 ✅

**修改内容**：
- 在获取设置后，使用 `document.title` 更新页面标题

**效果**：
- 浏览器标签页标题会显示后台配置的网站名称
- 刷新页面后立即生效

### 3. 主页网站描述 ✅

**修改文件**：`src/pages/IndexPage.jsx`

**修改内容**：
- 添加 `siteName` 和 `siteDescription` 状态
- 从后台获取网站名称和描述
- 替换硬编码的描述文本

**效果**：
- 主页的网站描述现在会显示后台配置的内容
- 格式：`{网站名称} {网站描述}`

### 4. Favicon（网站图标）✅

**已有功能**：
- `useFavicon` Hook 已经实现了动态加载 Favicon
- 从后台获取 `siteFavicon` 配置
- 自动更新浏览器标签页图标

**效果**：
- 配置 Favicon URL 后，刷新页面即可看到新图标

---

## 使用指南

### 配置网站名称

1. 登录管理后台
2. 进入 **系统设置**
3. 在 **网站基本信息** 标签页
4. 修改 **网站名称** 字段
5. 点击 **保存设置**
6. 刷新前端页面

**显示位置**：
- ✅ 导航栏左上角
- ✅ 浏览器标签页标题
- ✅ 主页标题描述
- ✅ Footer 公司名称（如果配置了 footerCompanyName）

### 配置网站图标（Favicon）

1. 登录管理后台
2. 进入 **系统设置**
3. 在 **网站基本信息** 标签页
4. 修改 **网站图标 (Favicon)** 字段
5. 输入图标 URL（支持 .ico、.png、.svg）
6. 点击 **保存设置**
7. 刷新前端页面

**推荐尺寸**：32x32 或 64x64 像素

### 配置网站描述

1. 登录管理后台
2. 进入 **系统设置**
3. 在 **网站基本信息** 标签页
4. 修改 **网站描述** 字段
5. 点击 **保存设置**
6. 刷新前端页面

**显示位置**：
- ✅ 主页标题下方的描述文本

---

## 配置示例

### 示例 1：修改网站名称

**后台配置**：
```
网站名称：可可代付
```

**前端显示**：
- 导航栏：可可代付
- 标签页：可可代付
- 主页：可可代付 是领先的自动化代付协议...

### 示例 2：修改网站描述

**后台配置**：
```
网站名称：可可代付
网站描述：专业的 USDT/TRX 代付平台，安全快捷，7x24小时在线服务
```

**前端显示**：
- 主页：可可代付 专业的 USDT/TRX 代付平台，安全快捷，7x24小时在线服务

### 示例 3：配置 Favicon

**后台配置**：
```
网站图标：https://example.com/favicon.png
```

**前端显示**：
- 浏览器标签页会显示该图标

---

## 技术细节

### 数据流

```
后台配置 (Settings 模型)
    ↓
保存到 MongoDB
    ↓
前端调用 /api/settings/public
    ↓
更新 React 状态
    ↓
重新渲染页面
```

### API 接口

**接口**：`GET /api/settings/public`

**返回数据**：
```json
{
  "siteName": "可可代付",
  "siteFavicon": "https://example.com/favicon.png",
  "siteDescription": "专业的代付平台",
  "footerCompanyName": "可可代付",
  "footerDescription": "...",
  ...
}
```

### 修改的文件

1. `src/App.jsx` - 导航栏和标签页标题
2. `src/pages/IndexPage.jsx` - 主页描述

---

## 验证清单

配置完成后，请验证以下内容：

- [ ] 导航栏左上角显示正确的网站名称
- [ ] 浏览器标签页标题显示正确的网站名称
- [ ] 浏览器标签页图标显示正确的 Favicon
- [ ] 主页标题下方显示正确的网站描述
- [ ] Footer 显示正确的公司名称（如果配置了）

---

## 注意事项

1. **刷新页面**：修改配置后需要刷新前端页面才能看到效果
2. **缓存问题**：如果 Favicon 没有更新，尝试清除浏览器缓存或强制刷新（Ctrl+F5）
3. **默认值**：如果没有配置，会显示默认值 "FASTPAY"
4. **描述格式**：主页描述会自动拼接网站名称，格式为：`{网站名称} {网站描述}`

---

## 相关配置

### 其他可配置的网站信息

在 **系统设置** 中还可以配置：

- **SEO 标题**：搜索引擎显示的标题
- **SEO 描述**：搜索引擎显示的描述
- **主页展示图片**：主页右侧的大图
- **社交媒体链接**：Twitter、Facebook、Telegram 等
- **TG 客服地址**：导航栏的 TG 客服入口
- **Footer 内容**：公司名称、描述、版权信息、导航链接

---

## 完成状态

✅ 导航栏网站名称可配置  
✅ 浏览器标签页标题可配置  
✅ 浏览器标签页图标可配置  
✅ 主页网站描述可配置  
✅ 所有配置实时生效（刷新后）

---

**修复完成时间**：2026-02-03  
**修复状态**：✅ 完成
