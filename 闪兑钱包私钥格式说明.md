# 闪兑钱包私钥格式说明

## 📋 私钥格式要求

### 正确的私钥格式

私钥必须是 **64位十六进制字符串**，可以带或不带 `0x` 前缀。

#### ✅ 正确示例

```
# 标准格式（64个字符）
1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef

# 带0x前缀（系统会自动移除）
0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef

# 带空格（系统会自动清理）
  1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef  
```

#### ❌ 错误示例

```
# 长度不对（太短）
1234567890abcdef

# 包含非十六进制字符
1234567890abcdefGHIJ567890abcdef1234567890abcdef1234567890abcdef

# 包含特殊字符
1234567890abcdef-1234567890abcdef-1234567890abcdef-1234567890abcdef
```

## 🔧 如何获取正确的私钥

### 1. TronLink 钱包

1. 打开 TronLink 钱包
2. 点击右上角菜单
3. 选择"导出私钥"
4. 输入密码
5. 复制显示的私钥（64位十六进制）

### 2. 其他钱包

大多数 TRON 钱包都支持导出私钥，通常在：
- 设置 → 安全 → 导出私钥
- 钱包管理 → 备份 → 导出私钥

## 🧪 测试私钥格式

运行测试脚本验证你的私钥格式：

```bash
node server/scripts/testPrivateKeyValidation.js
```

## ⚠️ 常见问题

### Q1: 提示"私钥长度不正确"

**原因**：私钥不是64个字符

**解决**：
1. 检查是否完整复制了私钥
2. 确认没有多余的空格或换行
3. 如果有 `0x` 前缀，系统会自动处理，不影响长度

### Q2: 提示"私钥格式无效"

**原因**：私钥包含非十六进制字符

**解决**：
1. 确认只包含 0-9 和 a-f（不区分大小写）
2. 不要包含特殊字符（如 `-`、`_`、空格等）
3. 重新从钱包导出私钥

### Q3: 提示"该钱包地址已存在"

**原因**：这个私钥对应的钱包已经添加过了

**解决**：
1. 检查钱包列表，看是否已经存在
2. 如果需要，可以删除旧的再添加新的
3. 或者使用不同的钱包

## 🔐 安全提示

1. **永远不要分享私钥**：私钥等于钱包的完全控制权
2. **安全存储**：系统会自动加密存储私钥
3. **定期备份**：建议在安全的地方备份私钥
4. **使用专用钱包**：建议为闪兑系统创建专用钱包

## 📝 添加步骤

1. 登录管理后台
2. 进入"闪兑系统" → "闪兑钱包"
3. 点击"添加钱包"
4. 填写信息：
   - **钱包名称**：例如"闪兑主钱包"
   - **私钥**：粘贴64位十六进制私钥
   - **优先级**：1-100，数值越大优先级越高
5. 点击"添加钱包"

## 🎯 验证成功

添加成功后，系统会：
- ✅ 自动验证私钥格式
- ✅ 生成对应的钱包地址
- ✅ 加密存储私钥
- ✅ 显示在钱包列表中

---

**如果仍然遇到问题，请检查：**
1. 私钥是否从正确的钱包导出
2. 复制时是否完整（没有遗漏字符）
3. 是否包含不可见字符（建议用文本编辑器查看）
